"use client";
import styled from "styled-components";

const StarContainer = styled.div`
  display: flex;
  align-items: center;
  gap: 4px;
`;

const Star = styled.div`
  width: 24px;
  height: 24px;
  display: flex;
  justify-content: center;
  align-items: center;
  fill: ${(props) => (props.$filled ? "#FFDB2A" : "#DDDDDD")};
  stroke: ${(props) => (props.$filled ? "#FFDB2A" : "#DDDDDD")};
  cursor: pointer;

  & > svg path {
    fill: ${(props) => (props.$filled ? "#FFDB2A" : "#DDDDDD")};
    stroke: ${(props) => (props.$filled ? "#FFDB2A" : "#DDDDDD")};
  }
`;
const GetstarRating = ({ rating = 0, onChange }) => {
  return (
    <StarContainer>
      {[...Array(5)].map((_, index) => (
        <Star
          key={index}
          $filled={index < rating}
          onClick={() => onChange?.(index + 1)} // 별 클릭 시 콜백
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="24"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.7827 3.45356C12.0131 2.98662 12.1284 2.75315 12.2848 2.67856C12.4209 2.61366 12.5791 2.61366 12.7152 2.67856C12.8717 2.75315 12.9869 2.98662 13.2174 3.45356L15.4041 7.88353C15.4721 8.02138 15.5061 8.0903 15.5558 8.14382C15.5999 8.1912 15.6527 8.22959 15.7113 8.25687C15.7776 8.28767 15.8536 8.29878 16.0057 8.32102L20.897 9.03595C21.4121 9.11124 21.6696 9.14888 21.7888 9.27468C21.8925 9.38414 21.9412 9.53454 21.9215 9.68402C21.8988 9.85582 21.7124 10.0374 21.3395 10.4006L17.8014 13.8467C17.6912 13.9541 17.636 14.0078 17.6004 14.0717C17.5689 14.1283 17.5487 14.1905 17.5409 14.2548C17.5321 14.3274 17.5451 14.4032 17.5711 14.555L18.406 19.4224C18.494 19.9357 18.538 20.1924 18.4553 20.3447C18.3833 20.4773 18.2554 20.5702 18.1071 20.5977C17.9366 20.6293 17.7061 20.5081 17.2451 20.2657L12.8724 17.9661C12.7361 17.8944 12.668 17.8586 12.5962 17.8445C12.5327 17.8321 12.4673 17.8321 12.4038 17.8445C12.332 17.8586 12.2639 17.8944 12.1277 17.9661L7.75492 20.2657C7.29392 20.5081 7.06341 20.6293 6.89297 20.5977C6.74468 20.5702 6.61672 20.4773 6.54474 20.3447C6.462 20.1924 6.50603 19.9357 6.59407 19.4224L7.42889 14.555C7.45491 14.4032 7.46793 14.3274 7.45912 14.2548C7.45132 14.1905 7.43111 14.1283 7.39961 14.0717C7.36402 14.0078 7.30888 13.9541 7.19859 13.8467L3.66056 10.4006C3.28766 10.0374 3.10121 9.85582 3.07853 9.68402C3.05879 9.53454 3.10755 9.38414 3.21125 9.27468C3.33044 9.14888 3.58797 9.11124 4.10304 9.03595L8.99431 8.32102C9.14642 8.29878 9.22248 8.28767 9.28872 8.25687C9.34736 8.22959 9.40016 8.1912 9.44419 8.14382C9.49391 8.0903 9.52793 8.02138 9.59597 7.88353L11.7827 3.45356Z"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </Star>
      ))}
    </StarContainer>
  );
};

export default GetstarRating;
